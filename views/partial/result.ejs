<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="" />
    <link rel="icon" href="favicon.png">
    <script src="socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        * {
            padding: 0px;
            margin: 0px;
            box-sizing: border-box;
        }
        .large-box {
            height: 90vh !important;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .smallbox {
            height: 500px;
            width: 500px;
            margin-inline: 1em;
            padding: 1em;
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
        }
        .img {
            height: 400px;
            width: 450px;
            overflow: hidden;
            position: relative;
        }
        .img img{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            width: 300px;
        }
        .button {
            margin: 1em;
        }
        .vote-laptop {
            padding-inline: 2em;
            padding-block: .5em;
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(to right, #54ABC5, #1337C3);
            border-radius: 20px;
            color: white;
        }
        #name {
            color: white;
            font-size: 1em;
            font-weight: 700;
        }
        
    </style>
</head>
<body style="background:#1e2521;">
    <section>
        <span id="span_url"><%= socketURL %></span>
        <div class="container">
            <div class="large-box">
                <div class="smallbox">
                    <div class="img">
                        <img src="https://www.designbust.com/download/437/thumb/gaming_pc_transparent_icon_thum.png" alt="">
                    </div>
                    <label for="" id="name">Computer</label>
                    <div class="button">
                        <button class="vote-laptop">Total: <span id="span_lp">0</span></button>
                    </div>
                </div>
                <div class="smallbox">
                    <div class="img">
                        <img src="https://images.techhive.com/images/article/2014/11/hp_omen_gaming_notebook_nov42014-100528390-orig.png" alt="">
                    </div>
                    <label for="" id="name">Laptop</label>
                    <div class="button">
                        <button class="vote-laptop">Total: <span id="span_pc">0</span></button>         
                        
                    </div>
                </div>
            </div>
        </div>
    </section>

	<script type="text/javascript">
		var socket = io.connect($("#span_url").html());

		socket.on('vote_lp', function(vote){
			var addVote = parseInt(vote);
			var count = parseInt($("#span_lp").html());

			var newCount = count + addVote;
			console.log(newCount);
			$('#span_lp').html(newCount);
		});

		socket.on('vote_pc', function(vote){
		var addVote = parseInt(vote);
		var count = parseInt($("#span_pc").html());

		var newCount = count + addVote;
		console.log(newCount);
		$('#span_pc').html(newCount);
		});

		socket.on('vote_lp')
	</script>
</body>
</html>